<div class="row vertical-center" id="collection-header">
  <div class="col-md-6">
    <h4>Collection for <a ng-href="https://boardgamegeek.com/user/{{username}}" target="_blank">{{username}}</a></h4>
  </div>
  <div class="col-md-3">
    <div class="btn-group" role="group">
      <button type="button" class="btn btn-default" ng-click="changeFilter('owned')" ng-class="filter === 'owned' ? btn-active : btn-inactive">Owned - {{counts.owned}}</button>
      <button type="button" class="btn btn-default" ng-click="changeFilter('wishList')">Wishlist - {{counts.wishList}}</button>
      <button type="button" class="btn btn-default" ng-click="changeFilter('wantToPlay')">Want To Play - {{counts.wantToPlay}}</button>
    </div>
  </div>

  <div class="col-md-3">
    <span class="glyphicon glyphicon-th-list display-toggle" ng-class="listMode ? 'display-active' : 'display-inactive'" ng-click="showListView()"></span>
    <span class="glyphicon glyphicon-th-large display-toggle" ng-class="!listMode ? 'display-active' : 'display-inactive'" ng-click="showGridView()"></span>
  </div>
</div>

<div class="overlay" ng-cloak ng-show="showModal" ng-click="dismissPopup()"></div>
<div class="container modal-content" ng-show="showModal && detailsLoaded">
  <div class="row">
    <div class="col-md-12">
      <h2>{{selectedGame.name}}</h2>
      <hr>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="details-container">
        <img ng-src="{{selectedGame.image}}" alt="">
      </div>
    </div>
    <div class="col-md-6">
      <div class="details-container">
        <div class="game-description">
          <p ng-bind-html="showAsHtml(selectedGame.description)"></p>
        </div>
      </div>
    </div>
  </div>

  <div>


  </div>


  <p><strong>Mechanics</strong></p>
  <p><span class="tag" ng-repeat="mechanic in selectedGame.mechanics">{{mechanic}} </span></p>
  <p><strong>Designer(s)</strong></p>
  <p><span class="tag" ng-repeat="designer in selectedGame.designers">{{designer}} </span></p>
  <p><strong>Artist(s)</strong></p>
  <p><span class="tag" ng-repeat="artist in selectedGame.artists">{{artist}} </span></p>
</div>

<div ng-if="!collectionLoaded">
  <h1>LOADING!</h1>
</div>

<div id="collection-container" ng-if="collectionLoaded">
  <table class="table table-hover" ng-show="listMode">
    <thead>
      <tr>
        <th><a ng-click="changeOrderBy('name')">Name <span></span></a></th>
        <th><a ng-click="changeOrderBy('minPlayers')">Min Players <span></span></a></th>
        <th><a ng-click="changeOrderBy('maxPlayers')">Max Players <span></span></a></th>
        <th><a ng-click="changeOrderBy('playingTime')">Playing Time <span></span></a></th>
        <th><a ng-click="changeOrderBy('yearPublished')">Year <span></span></a></th>
      </tr>
      <tr ng-repeat="game in collection | filter: filter | orderBy: orderBy">
        <td><a ng-href="https://boardgamegeek.com/boardgame/{{game.gameId}}/" target="_blank">{{game.name}}</a></td>
        <td>{{game.minPlayers}}</td>
        <td>{{game.maxPlayers}}</td>
        <td>{{game.playingTime}} mins</td>
        <td>{{game.yearPublished}}</td>
      </tr>
    </thead>
  </table>
  <div ng-show="!listMode" ng-cloak>
      <grid-thumbnail ng-repeat="game in collection | filter: filter" ng-cloak ng-click="showPopup(game.gameId)"></grid-thumbnail>
  </div>
</div>
