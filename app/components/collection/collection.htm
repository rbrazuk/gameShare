<div class="container">
  <div class="row vertical-center" id="collection-header">
    <div class="col-xs-6">
      <h4>Collection for <a ng-href="https://boardgamegeek.com/user/{{username}}" target="_blank">{{username}}</a></h4>
    </div>
    <div class="col-xs-6">
      <select ng-model="selectedFilter" >
        <option value="owned">Owned - {{counts.owned}}</option>
        <option value="wishList">Wishlist - {{counts.wishList}}</option>
        <option value="wantToPlay">Want To Play - {{counts.wantToPlay}}</option>
      </select>
      <span class="glyphicon glyphicon-th-list display-toggle" ng-class="listMode ? 'display-active' : 'display-inactive'" ng-click="showListView()">yo</span>
      <span class="glyphicon glyphicon-th-large display-toggle" ng-class="!listMode ? 'display-active' : 'display-inactive'" ng-click="showGridView()">yo</span>
    </div>
  </div>
  <div class="row">

  </div>
  <!-- BEGIN POPUP -->
  <div class="overlay" ng-cloak ng-show="showModal" ng-click="dismissPopup()"></div>
  <div class="container-fluid modal-content" ng-show="showModal && detailsLoaded">
    <div class="row">
      <div class="col-xs-12">
        <h2>{{selectedGame.name}}</h2>

      </div>
    </div>
    <hr>

    <div class="row">
      <div class="col-xs-6 center-block">
        <div class="center-block details-container">
          <img class="center-block" ng-src="{{selectedGameImage}}" alt="">
        </div>
      </div>
      <div class="col-xs-6">
        <div class="details-container">
          <div class="game-description">
            <p ng-bind-html="showAsHtml(selectedGame.description)"></p>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <p><strong>Mechanics</strong></p>
        <p><span class="tag" ng-repeat="mechanic in selectedGame.mechanics">{{mechanic}} </span></p>
        <p><strong>Designer(s)</strong></p>
        <p><span class="tag" ng-repeat="designer in selectedGame.designers">{{designer}} </span></p>
        <p><strong>Artist(s)</strong></p>
        <p><span class="tag" ng-repeat="artist in selectedGame.artists">{{artist}} </span></p>
      </div>
    </div>


  </div>
  <!-- END POPUP -->

  <div ng-if="!collectionLoaded">
    <h1>LOADING!</h1>
  </div>

  <div class="row" ng-if="collectionLoaded">
    <div class="col-xs-12 col-md-12" ng-show="listMode">
      <table class="table table-hover" >
        <thead>
          <tr>
            <th><a ng-click="changeOrderBy('name')">Name <span></span></a></th>
            <th><a ng-click="changeOrderBy('minPlayers')">Min <span></span></a></th>
            <th><a ng-click="changeOrderBy('maxPlayers')">Max <span></span></a></th>
            <th><a ng-click="changeOrderBy('playingTime')">Playing Time <span></span></a></th>
            <th><a ng-click="changeOrderBy('yearPublished')">Year <span></span></a></th>
          </tr>
          <tr ng-repeat="game in collection | filter: filter | orderBy: orderBy">
            <td><a ng-href="https://boardgamegeek.com/boardgame/{{game.gameId}}/" target="_blank">{{game.name}}</a></td>
            <td>{{game.minPlayers}}</td>
            <td>{{game.maxPlayers}}</td>
            <td>{{game.playingTime}} mins</td>
            <td>{{game.yearPublished}}</td>
          </tr>
        </thead>
      </table>
    </div>



  </div>

  <div class="row" ng-show="!listMode" ng-cloak>
    <div class="col-xs-6 col-sm-4 col-md-2" ng-repeat="game in collection | filter: filter">
      <grid-thumbnail data="game" ng-cloak ng-click="showPopup(game.gameId)"></grid-thumbnail>

    </div>

  </div>
